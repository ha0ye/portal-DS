% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/dynamic_stability_functions.R
\name{compute_smap_coeffs}
\alias{compute_smap_coeffs}
\title{Compute S-map coefficients for a community}
\usage{
compute_smap_coeffs(block, ccm_links, rescale = TRUE,
  rolling_forecast = FALSE)
}
\arguments{
\item{block}{A data.frame containing time series for the community. Each
column is a time series of abundances.}

\item{ccm_links}{A data.frame containing the significant causal links. Each
row is a causal link. The columns are:
\describe{
\item{`xmap_from`}{the column index of the predictor variable in CCM}
\item{`xmap_to`}{the column index of the predicted variable in CCM}
\item{`best_E`}{the best embedding dimension for CCM}
}}

\item{rescale}{A logical, indicating whether to rescale each time series}

\item{rolling_forecast}{A logical, indicating whether to make individual
rolling forecasts for the second half of the time series.}
}
\value{
A list with the matrix smap-coefficients for each predictor variable
  identified in CCM (these are the affected variables). The names in the list
  and the column names of the matrices use the variable names in the block.
}
\description{
Compute S-map models for each time series in the `block` and
  save out the coefficients. The coefficients represent the local linear
  model and can be used to infer properties of the system dynamics.
}
\details{
Suppose that there are causal links as follows:
  `x --> y`
  `x --> z`
  where `-->` indicates "cross-maps to". Then the interpretation from CCM is
  that `x` is affected by causes `y` and `z`. Thus, the predictive model for
  `x` should include `y` and `z` as predictors.

  The S-map model is then setup as
  x_{t+1} = F(x_t, y_t, z_t, x_{t-1}, x_{t-2}, ...)
  where the number of predictors is equal to the best embedding dimension for
  `x`.
}
