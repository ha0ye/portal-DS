# Build our Docker container and R pkg on Travis

env:
  global:
  - REPO=$DOCKER_USER/portal_ds

sudo: required

warnings_are_errors: false

language: generic

services:
  - docker

before_install:
  # retrieve the docker container from docker hub
  - docker pull $REPO

  # run the docker container and copy over the files into the container
  - docker run --name portalds -t -d $REPO /bin/bash
  - docker cp ../portalDS portalds:/
  - docker exec -i portalds bash -c "cd portalDS"

script:
  - docker exec -i portalds bash -c "R CMD CHECK ."

after_success:
